<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<script>
			// 定义async函数
			async function fn(){
				// async函数最终返回promise对象
				// 返回一个非promise对象的值 则函数最终返回的是promise的成功状态
				// return 123;// fulfilled
				
				// 返回的是失败的promise对象 则函数最终返回的是失败状态的promise对象
				// return new Promise((a,b)=>{
				// 	// b('失败的数据'); // rejected
				// 	a('成功的数据'); // fulfilled
				// })
				
				// 抛出异常 则是失败状态的promise对象
				throw new Error('errorInfo');// rejected
			}
			
			let a = fn();
			console.log(a);
			
			// async返回的是promise对象 就可以通过then进行回调
			a.then(value=>{
				console.log(value);
			},reason=>{
				console.log(reason);// errorInfo
			})
		</script>
	</body>
</html>